<th:block th:replace="normal-user/base::layout(~{::section}, ~{::title})">
    <title>Edit Contact</title>
    <section class="edit-con-section">
        <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" th:if="${status}" th:value="${status}">
            <div class="toast-header">
                <strong class="me-auto"></strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
        <div class="row justify-content-center mw-100 m-0">
            <div class="card glass-bg col-lg-7 col-md-7 col-sm-12">
                <h2 class="card-title text-center mt-3">Edit Contact</h2>
                <form action="#" th:action="@{/user/process-update-contact(conId=${contact.id})}" method="post"
                      enctype="multipart/form-data" id="edit-con-form" class="mt-3" th:object="${contact}">
                    <div class="form-group mb-2">
                        <input type="text" name="name" placeholder="Name" class="form-control"
                               th:value="${contact.name}" th:field="*{name}"
                               th:classappend="${#fields.hasErrors('name')} ? 'is-invalid':''">
                        <div class="invalid-feedback" th:if="${#fields.hasErrors('name')}"
                             th:text="${#fields.errors('name')}"></div>
                    </div>
                    <select class="form-select mb-2" id="autoSizingSelect" name="relationship" th:field="*{relationship}"
                            th:classappend="${#fields.hasErrors('relationship')} ? 'is-invalid':''">
                        <option selected value="">Relation</option>
                        <option value="Friend">Friend</option>
                        <option value="Spouse">Spouse</option>
                        <option value="Aunt/Uncle">Aunt/Uncle</option>
                        <option value="Parent">Parent</option>
                        <option value="Fiance">Fiance</option>
                        <option value="Neighbor">Neighbor</option>
                        <option value="Sibling">Sibling</option>
                        <option value="Child">Child</option>
                        <option value="Other">Other</option>
                    </select>
                    <div class="invalid-feedback" th:if="${#fields.hasErrors('relationship')}"
                         th:text="${#fields.errors('relationship')}"></div>
                    <div class="form-group mb-2">
                        <input type="tel" name="phone" placeholder="Phone" class="form-control"
                               th:value="${contact.phone}">
                    </div>
                    <div class="form-group mb-2">
                        <input type="email" name="email" placeholder="Email" class="form-control"
                               th:value="${contact.email}">
                    </div>
                    <div class="form-group mb-2">
                                            <textarea name="description" rows="10"
                                                      placeholder="Enter something about the person"
                                                      class="form-control" th:text="${contact.description}"></textarea>
                    </div>
                    <div class="text-center">
                        <img th:src="@{'/image/uploads/'+${contact.profileImg}}" alt="profile pic"
                             class="con-profile-img-big">
                    </div>
                    <div class="form-group mb-2">
                        <input type="file" name="profileImage" class="form-control">
                    </div>
                    <div class="form-group text-center">
                        <button type="submit" class="btn btn-primary m-2">Update</button>
                        <a th:href="@{'/user/view-contacts/0?sortField=name&sortDir=asc'}"
                           class="btn btn-outline-primary m-2">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </section>
</th:block>